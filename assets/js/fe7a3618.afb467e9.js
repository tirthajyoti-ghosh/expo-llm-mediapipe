"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[836],{4860:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"react-hooks","title":"React Hooks","description":"useLLM","source":"@site/docs/react-hooks.md","sourceDirName":".","slug":"/react-hooks","permalink":"/expo-llm-mediapipe/docs/react-hooks","draft":false,"unlisted":false,"editUrl":"https://github.com/tirthajyoti-ghosh/expo-llm-mediapipe/edit/main/docs/docs/react-hooks.md","tags":[],"version":"current","frontMatter":{"id":"react-hooks","title":"React Hooks"},"sidebar":"docs","previous":{"title":"API Overview","permalink":"/expo-llm-mediapipe/docs/api-overview"},"next":{"title":"Hookless APIs","permalink":"/expo-llm-mediapipe/docs/hookless-apis"}}');var l=s(4848),r=s(8453);const t={id:"react-hooks",title:"React Hooks"},d=void 0,i={},a=[{value:"<strong><code>useLLM</code></strong>",id:"usellm",level:3},{value:"<strong>Parameters</strong>",id:"parameters",level:5},{value:"<strong>Return Values</strong>",id:"return-values",level:5},{value:"<strong>Examples</strong>",id:"examples",level:5},{value:"<strong>Asset-Based Model</strong>",id:"asset-based-model",level:6},{value:"<strong>Downloadable Model</strong>",id:"downloadable-model",level:6},{value:"<strong>Streaming Response</strong>",id:"streaming-response",level:6},{value:"<strong>Examples</strong>",id:"examples-1",level:3}];function c(e){const n={a:"a",br:"br",code:"code",h3:"h3",h5:"h5",h6:"h6",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h3,{id:"usellm",children:(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"useLLM"})})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"useLLM"})," hook simplifies model management and inference by abstracting the complexities of model loading, downloading, and response generation."]}),"\n",(0,l.jsx)(n.h5,{id:"parameters",children:(0,l.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"storageType"}),": ",(0,l.jsx)(n.code,{children:'"asset" | "file" | "downloadable"'}),(0,l.jsx)(n.br,{}),"\n","Specifies the type of model storage."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"modelName"}),": Name of the model (for asset or downloadable)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"modelPath"}),": Path to the model file (for file-based models)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"maxTokens"}),": Maximum tokens in the response."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"temperature"}),": Controls randomness in responses."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"topK"}),": Limits diversity in responses."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"randomSeed"}),": For reproducible outputs."]}),"\n"]}),"\n",(0,l.jsx)(n.h5,{id:"return-values",children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"isLoaded"}),": Boolean indicating whether the model is ready."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"downloadStatus"}),": ",(0,l.jsx)(n.code,{children:'"not_downloaded" | "downloading" | "downloaded" | "error" | "checking"'}),". Indicates the download status of the model."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"downloadProgress"}),": Progress of the model download (0 to 1)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"downloadError"}),": Error message if the download fails."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"generateResponse"}),": Function to generate a complete response."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"generateStreamingResponse"}),": Function to generate token-by-token responses."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"downloadModel"}),": Function to download the model (for downloadable models)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"loadModel"}),": Function to load the model into memory."]}),"\n"]}),"\n",(0,l.jsx)(n.h5,{id:"examples",children:(0,l.jsx)(n.strong,{children:"Examples"})}),"\n",(0,l.jsx)(n.h6,{id:"asset-based-model",children:(0,l.jsx)(n.strong,{children:"Asset-Based Model"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const llm = useLLM({\n  storageType: 'asset',\n  modelName: 'gemma-1.1-2b-it-cpu-int4.bin',\n  maxTokens: 1024,\n  temperature: 0.7,\n  topK: 40,\n  randomSeed: 42,\n});\n\nif (llm.isLoaded) {\n  const response = await llm.generateResponse('Tell me a story.');\n}\n"})}),"\n",(0,l.jsx)(n.h6,{id:"downloadable-model",children:(0,l.jsx)(n.strong,{children:"Downloadable Model"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"const llm = useLLM({\n  storageType: 'downloadable',\n  modelName: 'gemma-1.1-2b-it-int4.bin',\n  modelUrl: 'https://huggingface.co/t-ghosh/gemma-tflite/resolve/main/gemma-1.1-2b-it-int4.bin',\n  maxTokens: 1024,\n  temperature: 0.7,\n  topK: 40,\n  randomSeed: 42,\n});\n\n// Download the model\nawait llm.downloadModel();\n\n// Load the model\nawait llm.loadModel();\n\n// Generate a response\nconst response = await llm.generateResponse('What is AI?');\n"})}),"\n",(0,l.jsx)(n.h6,{id:"streaming-response",children:(0,l.jsx)(n.strong,{children:"Streaming Response"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"await llm.generateStreamingResponse(\n  'Explain the concept of machine learning.',\n  (partial) => console.log('Partial response:', partial),\n  (error) => console.error('Error:', error)\n);\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"examples-1",children:(0,l.jsx)(n.strong,{children:"Examples"})}),"\n",(0,l.jsx)(n.p,{children:"Refer to these example usages for practical implementations:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/tirthajyoti-ghosh/expo-llm-mediapipe/blob/main/example/src/screens/HookAssetDemoScreen.tsx",children:"Model loading from assets"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/tirthajyoti-ghosh/expo-llm-mediapipe/blob/main/example/src/screens/HookDownloadableDemoScreen.tsx",children:"Model download and inference"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var o=s(6540);const l={},r=o.createContext(l);function t(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);